"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VendorVectorEncoder=void 0;var index_js_1=require("../../model/index.js"),index_js_2=require("../index.js"),IntEncoder_js_1=require("./IntEncoder.js"),BooleanEncoder_js_1=require("./BooleanEncoder.js"),FixedVectorEncoder_js_1=require("./FixedVectorEncoder.js"),VectorEncodingType_js_1=require("./VectorEncodingType.js"),index_js_3=require("../../errors/index.js"),VendorVectorEncoder=function(){function e(){}return e.decode=function(e,n){var r,d=0,o=IntEncoder_js_1.IntEncoder.decode(e.substr(d,index_js_2.BitLength.maxId),index_js_2.BitLength.maxId);d+=index_js_2.BitLength.maxId;var t=IntEncoder_js_1.IntEncoder.decode(e.charAt(d),index_js_2.BitLength.encodingType);if(d+=index_js_2.BitLength.encodingType,t===VectorEncodingType_js_1.VectorEncodingType.RANGE){if(r=new index_js_1.Vector,1===n){if("1"===e.substr(d,1))throw new index_js_3.DecodingError("Unable to decode default consent=1");d++}var i=IntEncoder_js_1.IntEncoder.decode(e.substr(d,index_js_2.BitLength.numEntries),index_js_2.BitLength.numEntries);d+=index_js_2.BitLength.numEntries;for(var s=0;s<i;s++){var _=BooleanEncoder_js_1.BooleanEncoder.decode(e.charAt(d));d+=index_js_2.BitLength.singleOrRange;var c=IntEncoder_js_1.IntEncoder.decode(e.substr(d,index_js_2.BitLength.vendorId),index_js_2.BitLength.vendorId);if(d+=index_js_2.BitLength.vendorId,_){var j=IntEncoder_js_1.IntEncoder.decode(e.substr(d,index_js_2.BitLength.vendorId),index_js_2.BitLength.vendorId);d+=index_js_2.BitLength.vendorId;for(var x=c;x<=j;x++)r.set(x)}else r.set(c)}}else{var E=e.substr(d,o);d+=o,r=FixedVectorEncoder_js_1.FixedVectorEncoder.decode(E,o)}return r.bitLength=d,r},e}();exports.VendorVectorEncoder=VendorVectorEncoder;